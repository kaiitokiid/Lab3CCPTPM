

import com.google.gson.Gson;
import com.google.gson.annotations.SerializedName;
import com.google.gson.reflect.TypeToken;

import java.io.IOException;
import java.io.Reader;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.List;

public class XLSHelper {
	public static Object[][] parseJsonFile(String filePath) throws IOException {
		Object[][] object2d = null;
		try {
			// create a reader
			Reader reader = Files.newBufferedReader(Paths.get(filePath));
			List<Account> account = new Gson().fromJson(reader, new TypeToken<List<Account>>() {
			}.getType());
			// Split words
			String column = account.get(0).toString();
			String[] value = column.split(",");
			// Get column size
			int columnSize = value.length;
			// Get row size
			int rowSize = account.size();
			object2d = new Object[rowSize][columnSize];
			// Add value to 2d array
			// Data block
			for (int i = 0; i < rowSize; i++) {
				String s = account.get(i).toString();
				// Attribute
				for (int j = 0; j < columnSize; j++) {
					String[] values = s.split(",");
					object2d[i][j] = values[j];
					// System.out.println(object2d[i][j]);
				}
			}
			// close reader
			reader.close();
		} catch (Exception ex) {
			ex.printStackTrace();
		}
		return object2d;
	}
}

class Account {

	@SerializedName("account")
	private String account;
	@SerializedName("password")
	private String password;
	@SerializedName("productId")
	private String productId;

	public Account(String account, String password) {
		super();
		this.account = account;
		this.password = password;
	}

	public String getAccount() {
		return account;
	}

	public void setAccount(String account) {
		this.account = account;
	}

	public String getPassword() {
		return password;
	}

	public void setPassword(String password) {
		this.password = password;
	}

	public String getProductId() {
		return productId;
	}

	public void setProductId(String productId) {
		this.productId = productId;
	}

	@Override
	public String toString() {
		return account + "," + password + "," + productId;
	}

}
